<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<!--
MIT License

Copyright (c) 2019 Viresh Ratnakar

See the full license notice in exolve-m.js.

Version: Exolve v0.59 April 1 2020
-->

<link rel="stylesheet" type="text/css" href="exolve-m.css?v0.59"/>
<script src="exolve-m.js?v0.59"></script>

<script>
function customizePuzzle() {
  background.setAttributeNS(null, 'fill', 'red')
  let expectedVars = [
    'currentRow',
    'currentCol',
    'currentClueIndex',
    'gridInput',
    'gridWidth',
    'gridHeight',
    'gridBackground',
    'numCellsFilled',
    'numCellsToFill',
    'offsetLeft',
    'offsetTop',
    'GRIDLINE',
    'SQUARE_DIM',
    'CIRCLE_RADIUS',
  ]
  for (let v of expectedVars) {
    eval('console.log("' + v + ' = " + ' + v + ')')
  }
  let expectedFunctions = [
    'deactivateCurrentCell',
    'activateCell',
    'advanceCursor',
    'updateAndSaveState',
    'showNinas',
    'hideNinas',
    'checkCurrent',
    'checkAll',
    'revealCurrent',
    'revealAll',
    'clearCurrent',
    'clearAll',
  ]
  for (let f of expectedFunctions) {
    eval('console.log("func ' + f + ' = " + (' + f + '!= null))')
  }
  background.setAttributeNS(null, 'fill', 'green')
}
</script>

<title>Test-Customize-Puzzle</title>

<script>

const puzzleText = `
======REPLACE WITH YOUR PUZZLE BELOW======
exolve-begin
  exolve-id: test-customize-puzzle
  exolve-title: Test-Customize-Puzzle
  exolve-setter: Viresh Ratnakar
  exolve-copyright: 2020 Viresh Ratnakar
  exolve-width: 5
  exolve-height: 5
  exolve-grid:
    00000
    0.0.0
    00000
    0.0.0
    00000
  exolve-prelude:
    <center>
    If grid does not turn green, examine js console for errors.
    </center>
  exolve-across:
    1 TODO (5)
    4 TODO (5)
    5 TODO (5)
  exolve-down:
    1 TODO (5)
    2 TODO (5)
    3 TODO (5)
exolve-end
======REPLACE WITH YOUR PUZZLE ABOVE======
`;

</script>

</head>

<body onload="createPuzzle()">

<div class="flex-col" id="outermost-stack">
  <h2 id="title">Title</h2>
  <div id="setter"></div>
  <div id="prelude"></div>
  <div id="current-clue-parent">
    <div id="current-clue"></div>
  </div>
  <div class="flex-row">
    <div id="grid-panel">
      <div id="grid-parent-centerer">
        <div id="grid-parent">
          <svg id="grid" zoomAndPan="disable"></svg>
          <div id="grid-input-wrapper" style="display:none;left:0;top:0"><input id="grid-input" type="text" maxlength="2" autocomplete="off" spellcheck="false" class="cell-text"/></div>
          <div id="nina-group" style="display:none;left:0;top:0"></div>
        </div> <!-- #grid-parent -->
      </div> <!-- #grid-parent-centerer -->
      <div id="controls-etc">
        <div id="controls" class="wide-box">
          <div id="button-row-1" class="controls-row">
            <button id="clear" class="button"
                onclick="clearCurrent()">Clear this</button>
            <button id="clear-all" class="button"
                onclick="clearAll()">Clear all!</button>
            <button id="check" class="button" style="display:none"
                onclick="checkCurrent()">Check this</button>
            <button id="check-all" class="button" style="display:none"
                onclick="checkAll()">Check all!</button>
          </div> <!-- #button-row-1 -->
          <div id="button-row-2" class="controls-row">
            <button id="reveal" class="button" style="display:none"
                onclick="revealCurrent()">Reveal this</button>
            <button id="ninas" class="button" style="display:none"
                onclick="toggleNinas()">Show ninas</button>
            <button id="reveal-all" class="button" style="display:none"
                onclick="revealAll()">Reveal all!</button>
          </div> <!-- #button-row-2 -->
        </div> <!-- #controls -->
        <div id="errors"></div>
        <div id="status">
          Squares filled:
          <span id="status-num-filled">0</span>/<span
                id="status-num-total"></span>
        </div> <!-- #status -->
        <div id="saving" class="wide-box">
          Your entries are saved automatically in a cookie, for the most
          recent puzzle that you open from this site. Bookmark/save the
          <a id="saving-url" href="">URL</a> for more reliable recovery.
        </div> <!-- #saving -->
        <div id="small-print" class="wide-box">
          <div id="control-keys-list" style="display:none">
            <ul>
              <li>
                <b>Tab/Shift-Tab:</b>
                Jump to the next/previous clue in the current direction
              </li>
              <li>
                <b>Enter, Click/Tap:</b>
                Toggle current direction
              </li>
              <li>
                <b>Arrow keys:</b>
                Move to the nearest light square in that direction
              </li>
              <li>
                <b>Spacebar:</b>
                Place/clear block in the current square if it's diagramless
              </li>
            </ul>
            <div>
              <span id="shuffle"
                title="Shuffle selected text (or all text, if none selected)"
                onclick="scratchPadShuffle()">
                Scratch pad: (click here to shuffle)
              </span>
              <textarea oninput="scratchPadInput()"
                id="scratchpad" spellcheck="false"
                rows="2" cols="60"></textarea>
            </div>
          </div>
          <a id="show-control-keys" href=""
            title="Show/hide tools: list of control keys and scratch pad"
            onclick="toggleShowControls();return false">Tools</a>
          <a id="report-bug"
            href="https://github.com/viresh-ratnakar/exolve/issues/new">Report
            bug</a>
          <a id="exolve-link"
            href="https://github.com/viresh-ratnakar/exolve">Exolve on
            GitHub</a>
          <span id="copyright"></span>
        </div> <!-- #small-print -->
        <div id="questions" class="wide-box"></div> 
        <div id="submit-parent">
          <button id="submit" class="button" style="display:none"
              onclick="submitSolution()">Submit!</button>
        </div> <!-- submit-parent -->
        <div id="explanations" class="wide-box" style="display:none"></div>
      </div> <!-- #controls-etc -->
      <br/>
    </div> <!-- #grid-panel -->
    <div id="clues" class="flex-row">
      <div id="across-clues-panel" class="clues-box" style="display:none">
        <hr/>
        <b>Across</b>
        <table id="across"></table>
        <br/>
      </div> <!-- #across-clues-panel -->
      <div id="down-clues-panel" class="clues-box" style="display:none">
        <hr/>
        <b>Down</b>
        <table id="down"></table>
        <br/>
      </div> <!-- #down-clues-panel -->
      <div id="nodir-clues-panel" class="clues-box" style="display:none">
        <hr/>
        <table id="nodir"></table>
        <br/>
      </div> <!-- #nodir-clues-panel -->
    </div> <!-- #clues -->
  </div>
</div> <!-- #outermost-stack -->

</body>

</html>
